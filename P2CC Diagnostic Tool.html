<!DOCTYPE html>
<html>
  <head>
    <title>P2CC Diagnostic Tool</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link rel="stylesheet" href="assessementStyles.css">
    <script>
      function sendHeightToParent() {
          var height = document.documentElement.scrollHeight;
          window.parent.postMessage({ type: 'resizeIframe', height: height }, '*');
      }

      window.onload = sendHeightToParent;
      window.onresize = sendHeightToParent;
    </script>
  </head>
  <body>
    <div class="mainBox" id="mainBox">
      <h1>P2CC Diagnostic Tool</h1>
      <br>

      <!-- Container for introduction and instructions -->
      <div class="introBox"> 
       
        <h3>What is this tool about?</h3>
        <p>This tool is a questionnaire that allows you to self-assess your competencies as a mentor supporting young people (aged 16 to 29) into creative careers.  Completing the questionnaire will help you identify your competence level in specific mentoring topics and identify areas for further development.  The tool will map your results and guide you to the learning resources that are most relevant for you.</p>
        <h3>How does it work?</h3>
        <p>The questions below are split into five different sections. For each question, please indicate whether you agree and to what level you agree by clicking the appropriate button next to each statement. Please complete all sections, in order for the results to show. Once you are finished, click the show results button at the bottom.</p>
        <h3>What results does the tool produce?</h3>
        <p>Once you have completed the questionnaire and clicked the show results button, you’ll receive:</p>
        <ul>
          <li>a summary of areas to focus on for further development </li>
          <li>a radar chart showing your level of competence in the five P2CC mentoring topics</li>
          <li>signposting to the learning resources most relevant to you.</li>
        </ul>
        <p>Please remember that the results do not save automatically. To save the chart, full results summary, or the print the entire page, use the buttons at the bottom. Only you can see the results; they are not saved or shared with anyone else. </p>
      </div>

      <form id="quizForm" onsubmit="return calculateResults()">

        <!-- Questionnaire start -->
        <TNAsection id="Sec1" >
          <div class="sectionContainer">
            <div class="sectionHead">
              <h3></h3>
            </div>
            <div class="sectionContent" id="secCont1">
            <div class="questionContainer" data-topic="delivering critical media training">
              <h4 class="questionDesc">1. How much experience do you have helping young people think critically and understand media?</h4>
                <p class="choiceLabel"><input type="radio" required value="0" name="s1q1" /> None</p>
                <p class="choiceLabel"><input type="radio" required value="0.25" name="s1q1" /> A little</p>
                <p class="choiceLabel"><input type="radio" required value="0.5" name="s1q1" /> Some</p>
                <p class="choiceLabel"><input type="radio" required value="0.75" name="s1q1" /> Quite a lot</p>
                <p class="choiceLabel"><input type="radio" required value="1" name="s1q1" /> Extensive</p>
            </div>
            <div class="questionContainer" data-topic="verifying online information">
              <h4 class="questionDesc">2. Are you checking if online information is trustworthy and teaching young people to do the same?</h4>
                <p class="choiceLabel"><input type="radio" required value="0" name="s1q2" /> Not at all</p>
                <p class="choiceLabel"><input type="radio" required value="0.25" name="s1q2" /> Occasionally</p>
                <p class="choiceLabel"><input type="radio" required value="0.5" name="s1q2" /> Sometimes</p>
                <p class="choiceLabel"><input type="radio" required value="0.75" name="s1q2" /> Often</p>
                <p class="choiceLabel"><input type="radio" required value="1" name="s1q2" /> Always</p>
            </div>
            <div class="questionContainer" data-topic="the impact of media on young people">
              <h4 class="questionDesc">3. In your experience, do false or biased media messages affect young people’s critical thinking ability?</h4>
                <p class="choiceLabel"><input type="radio" required value="0" name="s1q3" /> Not at all</p>
                <p class="choiceLabel"><input type="radio" required value="0.25" name="s1q3" /> A little</p>
                <p class="choiceLabel"><input type="radio" required value="0.5" name="s1q3" /> Somewhat</p>
                <p class="choiceLabel"><input type="radio" required value="0.75" name="s1q3" /> Quite a lot</p>
                <p class="choiceLabel"><input type="radio" required value="1" name="s1q3" /> Very much</p>
            </div>
            <div class="questionContainer" data-topic="giving guidance on media messages ">
              <h4 class="questionDesc">4. How effective are the artistic tools or methodologies you use in raising awareness about mental health among young people and fostering open dialogue?</h4>
                <p class="choiceLabel"><input type="radio" required value="0" name="s1q3" /> Not at all</p>
                <p class="choiceLabel"><input type="radio" required value="0.25" name="s1q3" /> A little</p>
                <p class="choiceLabel"><input type="radio" required value="0.5" name="s1q3" /> Somewhat</p>
                <p class="choiceLabel"><input type="radio" required value="0.75" name="s1q3" /> Quite a lot</p>
                <p class="choiceLabel"><input type="radio" required value="1" name="s1q3" /> Very much</p>
            </div>
            <div class="questionContainer" data-topic="helping young artists communicate media messages">
              <h4 class="questionDesc">5. How confident are you in helping young artists create meaningful, socially aware messages through art and media?</h4>
                <p class="choiceLabel"><input type="radio" required value="0" name="s1q5" /> Not confident</p>
                <p class="choiceLabel"><input type="radio" required value="0.25" name="s1q5" /> Slightly confident</p>
                <p class="choiceLabel"><input type="radio" required value="0.5" name="s1q5" /> Moderately confident</p>
                <p class="choiceLabel"><input type="radio" required value="0.75" name="s1q5" /> Quite confident</p>
                <p class="choiceLabel"><input type="radio" required value="1" name="s1q5" /> Very confident</p>
            </div>
          </div>
          </div>
        </TNAsection>
        <TNAsection id="Sec2" >
          <div class="sectionContainer">
            <div class="sectionHead">
              <h3></h3>
            </div>
            <div class="sectionContent" id="secCont2">
              <div class="questionContainer" data-topic="live video mentoring">
                <h4 class="questionDesc">1. One-to-one mentoring online using video/audio calls via the internet</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s2q1" /> No experience or skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s2q1" /> Occasional experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s2q1" /> Some experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s2q1" /> Regular experience and good level of skills</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s2q1" /> Highly experienced and skilled</p>
              </div>
              <div class="questionContainer" data-topic="text-based mentoring">
                <h4 class="questionDesc">2. One-to-one mentoring online via chat/email</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s2q2" /> No experience or skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s2q2" /> Occasional experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s2q2" /> Some experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s2q2" /> Regular experience and good level of skills</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s2q2" /> Highly experienced and skilled</p>
              </div>
              <div class="questionContainer" data-topic="Online Group Workshops">
                <h4 class="questionDesc">3. Group workshops/classes online</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s2q3" /> No experience or skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s2q3" /> Occasional experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s2q3" /> Some experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s2q3" /> Regular experience and good level of skills</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s2q3" /> Highly experienced and skilled</p>
              </div>
              <div class="questionContainer" data-topic="Digital Training Content">
                <h4 class="questionDesc">4. Producing online training content (e.g., audio podcasts/video/social media)</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s2q4" /> No experience or skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s2q4" /> Occasional experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s2q4" /> Some experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s2q4" /> Regular experience and good level of skills</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s2q4" /> Highly experienced and skilled</p>
              </div>
              <div class="questionContainer" data-topic="Interactive Online Tools">
                <h4 class="questionDesc">5. Use of online tools (e.g., Mentimeter, Miro boards)</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s2q5" /> No experience or skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s2q5" /> Occasional experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s2q5" /> Some experience and skills</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s2q5" /> Regular experience and good level of skills</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s2q5" /> Highly experienced and skilled</p>
              </div>
            </div>
          </div>
        </TNAsection>
        <TNAsection id="Sec3" >
          <div class="sectionContainer">
            <div class="sectionHead">
              <h3></h3>
            </div>
            <div class="sectionContent" id="secCont3">
              <div class="questionContainer" data-topic="understanding inclusion and equality concepts">
                <h4 class="questionDesc">1. I feel confident in my understanding of inclusion and equality concepts and their importance in mentoring creative youth.</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="vq1" /> Strongly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s3q1" /> Partly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s3q1" /> Not sure</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s3q1" /> Mostly agree</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s3q1" /> Fully agree</p>
              </div>
              <div class="questionContainer" data-topic="pursueing training on inclusion and equality">
                <h4 class="questionDesc">2. I actively seek out opportunities and engage in training to update my knowledge and skills on best practices for fostering inclusion and equality.</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s3q2" /> Strongly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s3q2" /> Partly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s3q2" /> Not sure</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s3q2" /> Mostly agree</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s3q2" /> Fully agree</p>
              </div>
              <div class="questionContainer" data-topic="tailoring mentoring to support diverse needs of creative youth">
                <h4 class="questionDesc">3. I actively seek to make my mentoring approach inclusive, accessible, and equitable, and I tailor my support to meet the diverse needs of individuals from various backgrounds.</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s3q3" /> Strongly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s3q3" /> Partly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s3q3" /> Not sure</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s3q3" /> Mostly agree</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s3q3" /> Fully agree</p>
              </div>
              <div class="questionContainer" data-topic="seeking feedback to improve inclusion practices">
                <h4 class="questionDesc">4. I proactively seek feedback from my mentees and peers and engage in open dialogue about my and my organisation's approach to inclusion and equality, using this feedback to improve my practices.</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s3q4" /> Strongly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s3q4" /> Partly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s3q4" /> Not sure</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s3q4" /> Mostly agree</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s3q4" /> Fully agree</p>
              </div>
              <div class="questionContainer" data-topic="guiding creative youth in incorporating inclusion and equality in their work">
                <h4 class="questionDesc">5. I actively encourage and guide creative youth to incorporate principles of inclusion and equality into their work and messaging, and I support them in developing these perspectives.</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s3q5" /> Strongly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s3q5" /> Partly disagree</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s3q5" /> Not sure</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s3q5" /> Mostly agree</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s3q5" /> Fully agree</p>
              </div>
            </div>
          </div>
        </TNAsection>
        <TNAsection id="Sec4" >
          <div class="sectionContainer">
            <div class="sectionHead">
              <h3></h3>
            </div>
            <div class="sectionContent" id="secCont4">
              <div class="questionContainer" data-topic="supporting emotional and mental wellbeing">
                <h4 class="questionDesc">1. To what extent does the artistic experience you offer young people contribute to their emotional and mental well-being?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s4q1" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s4q1" /> Slightly</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s4q1" /> Moderately</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s4q1" /> Quite a lot</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s4q1" /> Very much</p>
              </div>
              <div class="questionContainer" data-topic="implementing a safe, welcoming learning environment">
                <h4 class="questionDesc">2. How effectively do you implement strategies or measures to create a safe and welcoming learning environment that encourages openness and emotional sharing?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s4q2" /> Not effectively</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s4q2" /> Slightly effectively</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s4q2" /> Moderately effectively</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s4q2" /> Quite effectively</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s4q2" /> Very effectively</p>
              </div>
              <div class="questionContainer" data-topic="assisting young people experiencing distress">
                <h4 class="questionDesc">3. When you notice signs of distress or mental health struggles in young people, how actively do you take steps to support them or help them access appropriate assistance?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s4q3" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s4q3" /> Rarely</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s4q3" /> Occasionally</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s4q3" /> Frequently</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s4q3" /> Very actively</p>
              </div>
              <div class="questionContainer" data-topic="using artistic tools to foster awareness of mental health">
                <h4 class="questionDesc">4. How effective are the artistic tools or methodologies you use in raising awareness about mental health among young people and fostering open dialogue?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s4q4" /> Not effective</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s4q4" /> Slightly effective</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s4q4" /> Moderately effective</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s4q4" /> Quite effective</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s4q4" /> Very effective</p>
              </div>
              <div class="questionContainer" data-topic="understanding your level of training and resources">
                <h4 class="questionDesc">5. How much do you feel the need for additional resources or training to better address these challenges?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s4q5" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s4q5" /> A little</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s4q5" /> Somewhat</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s4q5" /> Quite a lot</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s4q5" /> Very much</p>
              </div>
            </div>
          </div>
        </TNAsection>
        <TNAsection id="Sec5" >
          <div class="sectionContainer">
            <div class="sectionHead">
              <h3></h3>
            </div>
            <div class="sectionContent" id="secCont5">
              <div class="questionContainer" data-topic="empowerment through participatory arts">
                <h4 class="questionDesc">1. How confident are you in your understanding of how participatory arts can empower young people and build their self-confidence?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s5q1" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s5q1" /> A little confident</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s5q1" /> Moderately confident</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s5q1" /> Mostly confident</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s5q1" /> Completely confident</p>
              </div>

              <div class="questionContainer" data-topic="supporting socially engaged arts">
                <h4 class="questionDesc">2. How actively do you support young people in using art to explore social issues and express their views on community or global challenges?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s5q2" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s5q2" /> Not much</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s5q2" /> Moderately actively</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s5q2" /> Quite actively</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s5q2" /> Very actively</p>
              </div>

              <div class="questionContainer" data-topic="social value of arts">
                <h4 class="questionDesc">3. How effective do you feel your current practice is in helping young creatives understand the social value of their artistic work?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s5q3" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s5q3" /> Basic understanding</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s5q3" /> Moderate understanding</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s5q3" /> Good understanding</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s5q3" /> Expert level</p>
              </div>

              <div class="questionContainer" data-topic="socially inclusive mentoring">
                <h4 class="questionDesc">4. How often do you include socially relevant or inclusive themes when mentoring or guiding young artists?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s5q4" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s5q4" /> Not often</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s5q4" /> Sometimes</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s5q4" /> Frequently</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s5q4" /> Almost always</p>
              </div>

              <div class="questionContainer" data-topic="level of resources to make a social impact">
                <h4 class="questionDesc">5. How much do you feel the need for additional tools, resources, or training to better support socially impactful art-making with youth?</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s5q5" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s5q5" /> A little</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s5q5" /> Moderately</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s5q5" /> A lot</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s5q5" /> Completely</p>
              </div>
            </div>
          </div>
        </TNAsection>
        <TNAsection id="Sec6" >
          <div class="sectionContainer">
            <div class="sectionHead">
              <h3></h3>
            </div>
            <div class="sectionContent" id="secCont6">
              <div class="questionContainer" data-topic="Networking">
                <h4 class="questionDesc">1. Networking with artists, agents, employers and people in the industry</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s6q1" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s6q1" /> Rarely provide support in this area</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s6q1" /> I do support young people to do this, but would like to develop my skills and knowledge</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s6q1" /> I often support young people in this way</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s6q1" /> This is a fundamental element of how I support young people</p>
              </div>

              <div class="questionContainer" data-topic="Developing young people’s portfolios">
                <h4 class="questionDesc">2. Developing and presenting their creative portfolio in order to build an audience for their work</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s6q2" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s6q2" /> Rarely provide support in this area</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s6q2" /> I do support young people to do this, but would like to develop my skills and knowledge</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s6q2" /> I often support young people in this way</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s6q2" /> This is a fundamental element of how I support young people</p>
              </div>

              <div class="questionContainer" data-topic="Pitching">
                <h4 class="questionDesc">3. Pitching their work, seeking out, responding to and applying for auditions/commissions/opportunities</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s6q3" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s6q3" /> Rarely provide support in this area</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s6q3" /> I do support young people to do this, but would like to develop my skills and knowledge</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s6q3" /> I often support young people in this way</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s6q3" /> This is a fundamental element of how I support young people</p>
              </div>

              <div class="questionContainer" data-topic="Career strategies">
                <h4 class="questionDesc">4. Strategies for sustaining a career as a creative professional</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s6q4" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s6q4" /> Rarely provide support in this area</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s6q4" /> I do support young people to do this, but would like to develop my skills and knowledge</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s6q4" /> I often support young people in this way</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s6q4" /> This is a fundamental element of how I support young people</p>
              </div>

              <div class="questionContainer" data-topic="IP and copyright">
                <h4 class="questionDesc">5. Awareness of Intellectual property and copyright and other relevant legislation</h4>
                  <p class="choiceLabel"><input type="radio" required value="0" name="s6q5" /> Not at all</p>
                  <p class="choiceLabel"><input type="radio" required value="0.25" name="s6q5" /> Rarely provide support in this area</p>
                  <p class="choiceLabel"><input type="radio" required value="0.5" name="s6q5" /> I do support young people to do this, but would like to develop my skills and knowledge</p>
                  <p class="choiceLabel"><input type="radio" required value="0.75" name="s6q5" /> I often support young people in this way</p>
                  <p class="choiceLabel"><input type="radio" required value="1" name="s6q5" /> This is a fundamental element of how I support young people</p>
              </div>
            </div>
          </div>
        </TNAsection>
      
        <!-- Questionnaire end -->
        <div class="btn-block">
          <button type="submit" onsubmit="return calculateResults()">Show results</button>        
        </div>
      </form>
          <!-- container for narrative box and chart -->
    <div class="results" id="results">
      <h2 id="ResultsTitle"></h2>
      <div class="radarBox" id="radarBox"> 
        <canvas id="radarChart">
      </canvas>
      </div>
      <div class="narrativeBox" id="narrativeBox">
      </div>
    </div>

    <div class="resultsButtonSection" id="downloadButton">
    </div>
  </div>
    </div>





<script>
    const ctx = document.getElementById('radarChart').getContext('2d');
    let radarChart;
    let moduleNames = [
        "Critical Thinking & Media Literacy", 
        "Digital and enterprise skills", 
        "Inclusion and equality",
        "Health and Wellbeing",
        "Social Impact of Arts",
        "Enterprise Skills"] //list of module names (for string use)

    const chartData = {
        labels: [], // Labels for each data point
        datasets: [
            {
                label: 'Scores',
                data: [], // Data values
                backgroundColor: 'rgba(240, 63, 109, 0.2)', // Fill color
                borderColor: 'rgba(240, 63, 109, 1)', // Line color
                borderWidth: 2,
            },
        ],
    };

    function updateSectionHeaders(moduleNames) {
        document.querySelectorAll('TNAsection').forEach(section => {
            const id = section.getAttribute('id');
            const match = id.match(/Sec(\d+)/);
            if (match) {
                const index = parseInt(match[1], 10) - 1;
                const header = section.querySelector('.sectionHead h3');
                if (header && moduleNames[index]) {
                    header.textContent = `Section ${match[1]}: ${moduleNames[index]}`;
                }
            }
        });
    }

    function assignRadioButtonNames() {
        document.querySelectorAll('.questionContainer').forEach((container, index) => {
            const radios = container.querySelectorAll('input[type="radio"]');
            radios.forEach(radio => {
                radio.name = `question ${index + 1}`;
            });
        });
    }

    document.addEventListener("DOMContentLoaded", () => {
      updateSectionHeaders(moduleNames);
      assignRadioButtonNames();
    });

    // Function to hide a section
    function hideSection(sectionId,buttonId) {
      var sectionToHide = document.getElementById(sectionId);
      var buttonToChange = document.getElementById(buttonId);
      if (sectionToHide) {
        // Hide the section
        sectionToHide.classList.add('hidden');

        // Remove 'required' attribute from input fields
        var inputs = sectionToHide.querySelectorAll('input[type="radio"]');
        inputs.forEach(function(input) {
            input.removeAttribute('required');
        });

      }
    buttonToChange.innerHTML = "<button type='button' onclick='return showSection("+'"'+sectionId+'"'+","+'"'+buttonId+'"'+")'>Show Section</button>";
  }

    // Function to show a section
    function showSection(sectionId,buttonId) {
      var sectionToShow = document.getElementById(sectionId);
      var buttonToChange = document.getElementById(buttonId);
      if (sectionToShow) {
        // Hide the section
        sectionToShow.classList.remove('hidden');

        // Remove 'required' attribute from input fields
        var inputs = sectionToShow.querySelectorAll('input[type="radio"]');
        inputs.forEach(function(input) {
            input.setAttribute('required','');
        });
      }
    buttonToChange.innerHTML = "<button type='button' onclick='return hideSection("+'"'+sectionId+'"'+","+'"'+buttonId+'"'+")'>Skip Section</button>";
  }

    // Function to update the radar chart
    function updateRadarChart() {
        if (radarChart) {
            radarChart.destroy();
        }
        radarChart = new Chart(ctx, {
            type: 'radar',
            data: chartData,
            options: {
                aspectRatio: 1,
                scales: {
                    r: {
                        pointLabels: {
                            font: {
                              size: 13,
                            },
                        },
                        beginAtZero: true,
                        max: 100,
                    },
                },
            },
        });
    }
    function generateSummaries() {
      const sections = document.querySelectorAll('TNAsection');
      const narrativeBox = document.getElementById('narrativeBox');
      narrativeBox.innerHTML = ''; // Clear previous content

      sections.forEach((section, index) => {
        const contentId = section.querySelector('.sectionContent')?.id;
        const questions = document.querySelectorAll(`#${contentId} .questionContainer`);
        const scores = {
          high: [],
          mid: [],
          low: []
        };
        console.log(`Section ${index + 1} has ${questions.length} questions`);
        questions.forEach(q => {
          const topic = q.dataset.topic;
          const selected = q.querySelector('input[type="radio"]:checked');
          if (!selected) return;

          const value = parseFloat(selected.value);
          if (value === 1) {
            scores.high.push(topic);
          } else if (value >= 0.5) {
            scores.mid.push(topic);
          } else {
            scores.low.push(topic);
          }
        });

        const sectionTitle = moduleNames[index] || `Section ${index + 1}`;
        const summary = document.createElement('div');
        summary.classList.add('sectionSummary');

        // Create heading
        const heading = document.createElement('h4');
        heading.textContent = sectionTitle;
        summary.appendChild(heading);

        // Create flex container
        const flexWrapper = document.createElement('div');
        flexWrapper.classList.add('confidenceWrapper');

        if (scores.low.length > 0) {
          const box = document.createElement('div');
          box.className = 'confidenceBox low';
          box.textContent = `Focus more on: ${scores.low.join('; ')}`;
          flexWrapper.appendChild(box);
        }

        if (scores.mid.length > 0) {
          const box = document.createElement('div');
          box.className = 'confidenceBox mid';
          box.textContent = `Somewhat confident with: ${scores.mid.join('; ')}`;
          flexWrapper.appendChild(box);
        }

        if (scores.high.length > 0) {
          const box = document.createElement('div');
          box.className = 'confidenceBox high';
          box.textContent = `Very confident with: ${scores.high.join('; ')}`;
          flexWrapper.appendChild(box);
        }

        if (flexWrapper.children.length > 0) {
          summary.appendChild(flexWrapper);
        } else {
          const fallback = document.createElement('p');
          fallback.textContent = 'You did not answer any questions in this section.';
          summary.appendChild(fallback);
        }

        narrativeBox.appendChild(summary);
      });
    }


    var form = document.getElementById("quizForm");
    function handleForm(event) { event.preventDefault(); } 
    form.addEventListener('submit', handleForm);
    
    function calculateResults() {
    var resultsTitle = document.getElementById("ResultsTitle");
    resultsTitle.innerHTML ="Your Results:"

        var score = 0;

        function truncate2Strings(arr, limit = 25) {
            return arr.map(str => {
                const words = str.split(' ');
                let currentLine = '';
                const result = [];

                for (const word of words) {
                    if ((currentLine + word).length <= limit) {
                        currentLine += (currentLine ? ' ' : '') + word;
                    } else {
                        result.push(currentLine);
                        currentLine = word;
                    }
                }
                if (currentLine) result.push(currentLine);
                return result;
            });
        }

        function truncateStrings(arr) {
            return arr.map(str => str.trim().split(/\s+/));
        }

        var sectionLabels = truncateStrings(moduleNames);


        var sections = document.getElementsByTagName("TNAsection"); //creates a list of sections
        var sectionAverages = []; //creates list for sections averages
        var recommendationsList = new String(); //string for creating a html list of recommended modules for completion
        var contentSections = document.getElementsByClassName("sectionContent");

        var minimumSectionCount = sections.length;
        for (var i = sections.length - 1; i >= 0; i--) {
          if (contentSections[i].classList.contains('hidden')) {
            minimumSectionCount --;
          }
        }

        if (minimumSectionCount < 3) {
          if ((3 - minimumSectionCount) == 1) {
            var belowMinText = "You need to complete at least 3 sections. \n \nPlease complete 1 more section.";
          } else {
            var belowMinText = "You need to complete at least 3 sections. \n \nPlease complete " + (3 - minimumSectionCount) + " more sections.";
          }

          window.alert(belowMinText);
          return;
        }

        var downloadButton = document.getElementById("downloadButton");
        downloadButton.innerHTML = "<button class='resultsButton' onclick='downloadChart()'>Download Chart</button><button class='resultsButton' onclick='downloadFull()'>Download Full Results</button><button class='resultsButton' onclick='window.print()'>Print Page</button>"

        //loops through each section to calcualte results
        for (var i = 0; i < sections.length; i++) { 
            var sectionScore = 0;
            var sectionAverage = 0;
            var sectionLength = 0; 
            var questions = sections[i].getElementsByTagName('input');
            for (var j = 0; j < questions.length; j++) {
                if (questions[j].checked) {
                    score += parseFloat(questions[j].value);
                    sectionScore += parseFloat(questions[j].value);
                    sectionLength += 1;
                } else {
                    score += 0;
                    sectionScore += 0;
                }
            }
            sectionAverage = sectionScore/sectionLength; //calculate section 
            sectionAverage = sectionAverage*100; //converts to percentage
            sectionAverage = sectionAverage.toFixed(2); //rounds to 2 decimal figures
            sectionAverages.push(sectionAverage);
        }

        for (var i = sections.length - 1; i >= 0; i--) {
          if (contentSections[i].classList.contains('hidden')) {
            sectionAverages.splice(i, 1);
            sectionLabels.splice(i, 1);
            moduleNames.splice(i, 1);
          }
        }
        for (var i = moduleNames.length - 1; i >= 0; i--) {
          if (sectionAverages[i] <= 50) { //check for score threshold and add section to recommendation list if too low
          recommendationsList += '<li>'+ moduleNames[i] + '</li>';
          }
        }
        chartData.datasets[0].data = sectionAverages;
        chartData.labels = sectionLabels;
        updateRadarChart();

        //var narrativeBox = document.getElementById("narrativeBox");
        //if (recommendationsList.length === 0){
        //  narrativeBox.innerHTML = "<div class='resultsPara'><p>Well done! There are no specific areas which seem to need attention.<br><br>For more detailed results, see the chart below:</p></div>";

       // } else {
         // narrativeBox.innerHTML = "<div class='resultsPara'><p> Based on your results from the quiz, we recommend you should pay particular attention to the following modules:<br><ul>" + recommendationsList + "</ul><br><br>For more detailed results, see the chart below:</p></div>";
       // }
        generateSummaries();

        window.scrollBy({
          left: 0, 
          top: 600,
          behavior:'smooth'
        })
      }

      function downloadFull(){

        html2canvas(document.getElementById('results')).then(function (canvas) {
          // Convert the image of the canvas to a blob
          canvas.toBlob(function (blob) {
            // Use FileSaver.js to download the blob as a PNG
            saveAs(blob, "P2CC_SelfAssessement_Result_Full.png");
          });
        });
      };

      function downloadChart() {
        // Captura el canvas y lo convierte en una imagen usando html2canvas / Capture the canvas and convert it to an image using html2canvas
        html2canvas(document.getElementById('radarBox')).then(function (canvas) {
          // Convert the image of the canvas to a blob
          canvas.toBlob(function (blob) {
            // Use FileSaver.js to download the blob as a PNG
            saveAs(blob, "P2CC_Diagnostic_Result_Chart.png");
          });
      });


    }
// Function to randomly select a radio button for each question
  function randomizeAnswers() {
    // Get all question containers
    const questions = document.querySelectorAll('.questionContainer');
    
    questions.forEach(question => {
      // Get all radio buttons within the question container
      const radios = question.querySelectorAll('input[type="radio"]');
      
      // Randomly select a radio button and check it
      const randomIndex = Math.floor(Math.random() * radios.length);
      radios[randomIndex].checked = true;
    });
  }

  // Event listener for keybinding (Ctrl + R to randomize)
  document.addEventListener('keydown', function(event) {
    // Check if Ctrl + R is pressed
    if (event.ctrlKey && event.key === 'r') {
      event.preventDefault();  // Prevent default action (like refreshing)
      randomizeAnswers();  // Call the randomize function
    }
  });
</script>
  </body>
</html>